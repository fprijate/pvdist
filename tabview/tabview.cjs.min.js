"use strict";var e=require("primevue/basecomponent"),t=require("primevue/icons/chevronleft"),n=require("primevue/icons/chevronright"),a=require("primevue/ripple"),i=require("primevue/utils"),r=require("vue");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=o(e),l=o(t),c=o(n),d=o(a),p={name:"TabView",extends:s.default,emits:["update:activeIndex","tab-change","tab-click"],props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:{type:null,default:null},nextButtonProps:{type:null,default:null},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0}},data(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{"$attrs.id":function(e){this.id=e||i.UniqueComponentId()},activeIndex(e){this.d_activeIndex=e,this.scrollInView({index:e})}},mounted(){this.id=this.id||i.UniqueComponentId(),this.updateInkBar(),this.scrollable&&this.updateButtonState()},updated(){this.updateInkBar()},methods:{isTabPanel:e=>"TabPanel"===e.type.name,isTabActive(e){return this.d_activeIndex===e},getTabProp:(e,t)=>e.props?e.props[t]:void 0,getKey(e,t){return this.getTabProp(e,"header")||t},getTabHeaderActionId(e){return`${this.id}_${e}_header_action`},getTabContentId(e){return`${this.id}_${e}_content`},getTabPT(e,t){return this.ptmo(this.getTabProp(e,"pt"),t,{props:e.props,parent:{props:this.$props,state:this.$data}})},onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick(){const e=this.$refs.content,t=i.DomHandler.getWidth(e),n=e.scrollLeft-t;e.scrollLeft=n<=0?0:n},onNextButtonClick(){const e=this.$refs.content,t=i.DomHandler.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+t,a=e.scrollWidth-t;e.scrollLeft=n>=a?a:n},onTabClick(e,t,n){this.changeActiveIndex(e,t,n),this.$emit("tab-click",{originalEvent:e,index:n})},onTabKeyDown(e,t,n){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onTabEnterKey(e,t,n)}},onTabArrowRightKey(e){const t=this.findNextHeaderAction(e.target.parentElement);t?this.changeFocusedTab(e,t):this.onTabHomeKey(e),e.preventDefault()},onTabArrowLeftKey(e){const t=this.findPrevHeaderAction(e.target.parentElement);t?this.changeFocusedTab(e,t):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey(e){const t=this.findFirstHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEndKey(e){const t=this.findLastHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onPageDownKey(e){this.scrollInView({index:this.$refs.nav.children.length-2}),e.preventDefault()},onPageUpKey(e){this.scrollInView({index:0}),e.preventDefault()},onTabEnterKey(e,t,n){this.changeActiveIndex(e,t,n),e.preventDefault()},findNextHeaderAction(e,t=!1){const n=t?e:e.nextElementSibling;return n?i.DomHandler.hasClass(n,"p-disabled")||i.DomHandler.hasClass(n,"p-tabview-ink-bar")?this.findNextHeaderAction(n):i.DomHandler.findSingle(n,".p-tabview-header-action"):null},findPrevHeaderAction(e,t=!1){const n=t?e:e.previousElementSibling;return n?i.DomHandler.hasClass(n,"p-disabled")||i.DomHandler.hasClass(n,"p-tabview-ink-bar")?this.findPrevHeaderAction(n):i.DomHandler.findSingle(n,".p-tabview-header-action"):null},findFirstHeaderAction(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex(e,t,n){this.getTabProp(t,"disabled")||this.d_activeIndex===n||(this.d_activeIndex=n,this.$emit("update:activeIndex",n),this.$emit("tab-change",{originalEvent:e,index:n}),this.scrollInView({index:n}))},changeFocusedTab(e,t){if(t&&(i.DomHandler.focus(t),this.scrollInView({element:t}),this.selectOnFocus)){const n=parseInt(t.parentElement.dataset.index,10),a=this.tabs[n];this.changeActiveIndex(e,a,n)}},scrollInView({element:e,index:t=-1}){const n=e||this.$refs.nav.children[t];n&&n.scrollIntoView&&n.scrollIntoView({block:"nearest"})},updateInkBar(){let e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=i.DomHandler.getWidth(e)+"px",this.$refs.inkbar.style.left=i.DomHandler.getOffset(e).left-i.DomHandler.getOffset(this.$refs.nav).left+"px"},updateButtonState(){const e=this.$refs.content,{scrollLeft:t,scrollWidth:n}=e,a=i.DomHandler.getWidth(e);this.isPrevButtonDisabled=0===t,this.isNextButtonDisabled=parseInt(t)===n-a},getVisibleButtonWidths(){const{prevBtn:e,nextBtn:t}=this.$refs;return[e,t].reduce(((e,t)=>t?e+i.DomHandler.getWidth(t):e),0)},getTabHeaderClass(e,t){return["p-tabview-header",this.getTabProp(e,"headerClass"),{"p-highlight":this.d_activeIndex===t,"p-disabled":this.getTabProp(e,"disabled")}]},getTabContentClass(e){return["p-tabview-panel",this.getTabProp(e,"contentClass")]}},computed:{contentClasses(){return["p-tabview p-component",{"p-tabview-scrollable":this.scrollable}]},tabs(){return this.$slots.default().reduce(((e,t)=>(this.isTabPanel(t)?e.push(t):t.children&&t.children instanceof Array&&t.children.forEach((t=>{this.isTabPanel(t)&&e.push(t)})),e)),[])},prevButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},directives:{ripple:d.default},components:{ChevronLeftIcon:l.default,ChevronRightIcon:c.default}};const h=["tabindex","aria-label"],b=["data-index"],v=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],u=["tabindex","aria-label"],m=["aria-labelledby"];!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}("\n.p-tabview-nav-container {\r\n    position: relative;\n}\n.p-tabview-scrollable .p-tabview-nav-container {\r\n    overflow: hidden;\n}\n.p-tabview-nav-content {\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n    scroll-behavior: smooth;\r\n    scrollbar-width: none;\r\n    overscroll-behavior: contain auto;\n}\n.p-tabview-nav {\r\n    display: flex;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style-type: none;\r\n    flex: 1 1 auto;\n}\n.p-tabview-header-action {\r\n    cursor: pointer;\r\n    user-select: none;\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n    text-decoration: none;\r\n    overflow: hidden;\n}\n.p-tabview-ink-bar {\r\n    display: none;\r\n    z-index: 1;\n}\n.p-tabview-header-action:focus {\r\n    z-index: 1;\n}\n.p-tabview-title {\r\n    line-height: 1;\r\n    white-space: nowrap;\n}\n.p-tabview-nav-btn {\r\n    position: absolute;\r\n    top: 0;\r\n    z-index: 2;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\n}\n.p-tabview-nav-prev {\r\n    left: 0;\n}\n.p-tabview-nav-next {\r\n    right: 0;\n}\n.p-tabview-nav-content::-webkit-scrollbar {\r\n    display: none;\n}\r\n"),p.render=function(e,t,n,a,i,o){const s=r.resolveDirective("ripple");return r.openBlock(),r.createElementBlock("div",r.mergeProps({class:o.contentClasses},e.ptm("root")),[r.createElementVNode("div",r.mergeProps({class:"p-tabview-nav-container"},e.ptm("navcontainer")),[n.scrollable&&!i.isPrevButtonDisabled?r.withDirectives((r.openBlock(),r.createElementBlock("button",r.mergeProps({key:0,ref:"prevBtn",type:"button",class:"p-tabview-nav-prev p-tabview-nav-btn p-link",tabindex:n.tabindex,"aria-label":o.prevButtonAriaLabel,onClick:t[0]||(t[0]=(...e)=>o.onPrevButtonClick&&o.onPrevButtonClick(...e))},{...n.previousButtonProps,...e.ptm("prevbutton")}),[r.renderSlot(e.$slots,"previcon",{},(()=>[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(n.prevIcon?"span":"ChevronLeftIcon"),r.mergeProps({"aria-hidden":"true",class:n.prevIcon},e.ptm("previcon")),null,16,["class"]))]))],16,h)),[[s]]):r.createCommentVNode("",!0),r.createElementVNode("div",r.mergeProps({ref:"content",class:"p-tabview-nav-content",onScroll:t[1]||(t[1]=(...e)=>o.onScroll&&o.onScroll(...e))},e.ptm("navcontent")),[r.createElementVNode("ul",r.mergeProps({ref:"nav",class:"p-tabview-nav",role:"tablist"},e.ptm("nav")),[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(o.tabs,((e,t)=>(r.openBlock(),r.createElementBlock("li",r.mergeProps({key:o.getKey(e,t),style:o.getTabProp(e,"headerStyle"),class:o.getTabHeaderClass(e,t),role:"presentation","data-index":t},{...o.getTabProp(e,"headerProps"),...o.getTabPT(e,"root"),...o.getTabPT(e,"header")}),[r.withDirectives((r.openBlock(),r.createElementBlock("a",r.mergeProps({id:o.getTabHeaderActionId(t),class:"p-tabview-nav-link p-tabview-header-action",tabindex:o.getTabProp(e,"disabled")||!o.isTabActive(t)?-1:n.tabindex,role:"tab","aria-disabled":o.getTabProp(e,"disabled"),"aria-selected":o.isTabActive(t),"aria-controls":o.getTabContentId(t),onClick:n=>o.onTabClick(n,e,t),onKeydown:n=>o.onTabKeyDown(n,e,t)},{...o.getTabProp(e,"headerActionProps"),...o.getTabPT(e,"headeraction")}),[e.props&&e.props.header?(r.openBlock(),r.createElementBlock("span",r.mergeProps({key:0,class:"p-tabview-title"},o.getTabPT(e,"headertitle")),r.toDisplayString(e.props.header),17)):r.createCommentVNode("",!0),e.children&&e.children.header?(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.children.header),{key:1})):r.createCommentVNode("",!0)],16,v)),[[s]])],16,b)))),128)),r.createElementVNode("li",r.mergeProps({ref:"inkbar",class:"p-tabview-ink-bar",role:"presentation","aria-hidden":"true"},e.ptm("inkbar")),null,16)],16)],16),n.scrollable&&!i.isNextButtonDisabled?r.withDirectives((r.openBlock(),r.createElementBlock("button",r.mergeProps({key:1,ref:"nextBtn",type:"button",class:"p-tabview-nav-next p-tabview-nav-btn p-link",tabindex:n.tabindex,"aria-label":o.nextButtonAriaLabel,onClick:t[2]||(t[2]=(...e)=>o.onNextButtonClick&&o.onNextButtonClick(...e))},{...n.nextButtonProps,...e.ptm("nextbutton")}),[r.renderSlot(e.$slots,"nexticon",{},(()=>[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(n.nextIcon?"span":"ChevronRightIcon"),r.mergeProps({"aria-hidden":"true",class:n.nextIcon},e.ptm("nexticon")),null,16,["class"]))]))],16,u)),[[s]]):r.createCommentVNode("",!0)],16),r.createElementVNode("div",r.mergeProps({class:"p-tabview-panels"},e.ptm("panelcontainer")),[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(o.tabs,((e,t)=>(r.openBlock(),r.createElementBlock(r.Fragment,{key:o.getKey(e,t)},[!n.lazy||o.isTabActive(t)?r.withDirectives((r.openBlock(),r.createElementBlock("div",r.mergeProps({key:0,style:o.getTabProp(e,"contentStyle"),class:o.getTabContentClass(e),role:"tabpanel","aria-labelledby":o.getTabHeaderActionId(t)},{...o.getTabProp(e,"contentProps"),...o.getTabPT(e,"root"),...o.getTabPT(e,"content")}),[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e)))],16,m)),[[r.vShow,!!n.lazy||o.isTabActive(t)]]):r.createCommentVNode("",!0)],64)))),128))],16)],16)},module.exports=p;
