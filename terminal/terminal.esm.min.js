import e from"primevue/basecomponent";import n from"primevue/terminalservice";import{openBlock as t,createElementBlock as o,mergeProps as m,normalizeProps as r,toDisplayString as s,createCommentVNode as p,createElementVNode as i,Fragment as a,renderList as l,withDirectives as c,vModelText as d}from"vue";var u={name:"Terminal",extends:e,props:{welcomeMessage:{type:String,default:null},prompt:{type:String,default:null}},data:()=>({commandText:null,commands:[]}),mounted(){n.on("response",this.responseListener),this.$refs.input.focus()},updated(){this.$el.scrollTop=this.$el.scrollHeight},beforeUnmount(){n.off("response",this.responseListener)},methods:{onClick(){this.$refs.input.focus()},onKeydown(e){"Enter"===e.code&&this.commandText&&(this.commands.push({text:this.commandText}),n.emit("command",this.commandText),this.commandText="")},responseListener(e){this.commands[this.commands.length-1].response=e}}};!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],m=document.createElement("style");m.type="text/css","top"===t&&o.firstChild?o.insertBefore(m,o.firstChild):o.appendChild(m),m.styleSheet?m.styleSheet.cssText=e:m.appendChild(document.createTextNode(e))}}("\n.p-terminal {\r\n    height: 18rem;\r\n    overflow: auto;\n}\n.p-terminal-prompt-container {\r\n    display: flex;\r\n    align-items: center;\n}\n.p-terminal-input {\r\n    flex: 1 1 auto;\r\n    border: 0 none;\r\n    background-color: transparent;\r\n    color: inherit;\r\n    padding: 0;\r\n    outline: 0 none;\n}\n.p-terminal-input::-ms-clear {\r\n    display: none;\n}\r\n"),u.render=function(e,n,u,h,f,x){return t(),o("div",m({class:"p-terminal p-component",onClick:n[2]||(n[2]=(...e)=>x.onClick&&x.onClick(...e))},e.ptm("root")),[u.welcomeMessage?(t(),o("div",r(m({key:0},e.ptm("welcomeMessage"))),s(u.welcomeMessage),17)):p("",!0),i("div",m({class:"p-terminal-content"},e.ptm("content")),[(t(!0),o(a,null,l(f.commands,((n,r)=>(t(),o("div",m({key:n.text+r.toString()},e.ptm("commands")),[i("span",m({class:"p-terminal-prompt"},e.ptm("prompt")),s(u.prompt),17),i("span",m({class:"p-terminal-command"},e.ptm("command")),s(n.text),17),i("div",m({class:"p-terminal-response","aria-live":"polite"},e.ptm("response")),s(n.response),17)],16)))),128))],16),i("div",m({class:"p-terminal-prompt-container"},e.ptm("container")),[i("span",m({class:"p-terminal-prompt"},e.ptm("prompt")),s(u.prompt),17),c(i("input",m({ref:"input","onUpdate:modelValue":n[0]||(n[0]=e=>f.commandText=e),type:"text",class:"p-terminal-input",autocomplete:"off",onKeydown:n[1]||(n[1]=(...e)=>x.onKeydown&&x.onKeydown(...e))},e.ptm("commandText")),null,16),[[d,f.commandText]])],16)],16)};export{u as default};
